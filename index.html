<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Great Date</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #0f0f0f;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            color: white;
            overflow-x: hidden;
        }

        .container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 30px 20px;
            text-align: center;
        }

        .header {
            margin-bottom: 30px;
        }

        .title {
            font-size: 2.8rem;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.8;
            font-weight: 300;
            color: #cccccc;
        }

        /* Карта */
        .map-animation {
            position: relative;
            width: 340px;
            height: 340px;
            margin: 20px auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.6);
            background: #1a1a1a;
        }

        .map-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        /* Стили для карты */
        .water {
            fill: #1e3a5f;
            stroke: #2d4f7c;
            stroke-width: 0.5;
        }

        .park {
            fill: #1e3e1e;
            stroke: #2d5a2d;
            stroke-width: 0.5;
        }

        .main-road {
            fill: none;
            stroke: #4a5568;
            stroke-width: 3.5;
            stroke-linecap: round;
        }

        .secondary-road {
            fill: none;
            stroke: #2d3748;
            stroke-width: 2;
            stroke-linecap: round;
        }

        .residential-building {
            fill: #2a2a2a;
            stroke: #3a3a3a;
            stroke-width: 0.3;
        }

        .commercial-building {
            fill: #333333;
            stroke: #444444;
            stroke-width: 0.3;
        }

        .large-building {
            fill: #3a3a3a;
            stroke: #4a4a4a;
            stroke-width: 0.4;
        }

        .industrial-building {
            fill: #2d2d2d;
            stroke: #3d3d3d;
            stroke-width: 0.3;
        }

        /* Синие точки */
        .map-point {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #4299e1;
            border-radius: 50%;
            transform: scale(0);
            animation: pulse 2s infinite;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.4);
            z-index: 50;
            border: 1.5px solid white;
        }

        /* Карточки мест */
        .place-card {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            color: #2d3748;
            padding: 8px;
            border-radius: 6px;
            box-shadow: 0 3px 12px rgba(0,0,0,0.3);
            min-width: 130px;
            transform: scale(0);
            opacity: 0;
            z-index: 100;
            font-size: 0.65rem;
            border: 1px solid #e2e8f0;
            backdrop-filter: blur(5px);
        }

        .place-card h3 {
            font-size: 0.75rem;
            margin-bottom: 3px;
            color: #2b6cb0;
        }

        .place-card p {
            font-size: 0.6rem;
            opacity: 0.8;
            margin-bottom: 2px;
            color: #4a5568;
        }

        .place-card .rating {
            color: #d69e2e;
            font-weight: bold;
            font-size: 0.6rem;
        }

        /* Позиции точек */
        .point-1 { top: 28%; left: 32%; animation-delay: 0.2s; }
        .point-2 { top: 45%; left: 58%; animation-delay: 0.7s; }
        .point-3 { top: 62%; left: 42%; animation-delay: 1.2s; }
        .point-4 { top: 35%; left: 68%; animation-delay: 1.7s; }
        .point-5 { top: 72%; left: 28%; animation-delay: 2.2s; }
        .point-6 { top: 52%; left: 22%; animation-delay: 2.7s; }

        /* Позиции карточек */
        .card-1 { top: 15%; left: 8%; }
        .card-2 { top: 38%; right: 6%; }
        .card-3 { bottom: 12%; left: 8%; }

        /* Анимации */
        @keyframes pulse {
            0% { transform: scale(0); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.7; }
            100% { transform: scale(0); opacity: 1; }
        }

        @keyframes showCard {
            0% { transform: scale(0) translateY(15px); opacity: 0; }
            50% { transform: scale(1.05) translateY(-3px); opacity: 1; }
            100% { transform: scale(1) translateY(0); opacity: 1; }
        }

        @keyframes hideCard {
            0% { transform: scale(1) translateY(0); opacity: 1; }
            100% { transform: scale(0) translateY(15px); opacity: 0; }
        }

        /* Кнопка */
        .start-button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 16px 45px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 45px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.35);
            transition: all 0.3s ease;
            margin-top: 25px;
            border: 2px solid rgba(102, 126, 234, 0.25);
        }

        .start-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.5);
        }

        /* Адаптивность */
        @media (max-width: 480px) {
            .title {
                font-size: 2.4rem;
            }
            
            .map-animation {
                width: 300px;
                height: 300px;
            }
            
            .start-button {
                padding: 14px 38px;
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">Great Date</h1>
            <p class="subtitle">Найди лучшие места для встречи</p>
        </div>

        <div class="map-animation">
            <div class="map-container">
                <svg width="100%" height="100%" viewBox="0 0 400 400">
                    <!-- Река, протекающая через город -->
                    <path class="water" d="M-10,120 Q50,80 120,100 Q200,130 250,90 Q320,60 380,110 Q400,160 380,220 Q350,280 300,300 Q250,320 180,310 Q120,300 80,260 Q50,230 40,180 Q30,140 50,100 L-10,120 Z" />
                    
                    <!-- Крупные парковые зоны -->
                    <path class="park" d="M20,20 L120,20 L120,80 L20,80 Z" />
                    <path class="park" d="M280,320 L360,320 L360,380 L280,380 Z" />
                    <path class="park" d="M180,180 Q220,160 260,180 Q280,200 260,220 Q240,240 200,230 Q180,220 180,180 Z" />
                    
                    <!-- Основная дорожная сеть -->
                    <!-- Главные магистрали (выходят за пределы карты) -->
                    <path class="main-road" d="M-10,200 L410,200" />
                    <path class="main-road" d="M200,-10 L200,410" />
                    <path class="main-road" d="M-10,80 L150,80 L200,120 L250,80 L410,80" />
                    <path class="main-road" d="M-10,320 L100,320 L150,280 L250,280 L300,320 L410,320" />
                    
                    <!-- Второстепенные дороги -->
                    <path class="secondary-road" d="M50,0 L50,400" />
                    <path class="secondary-road" d="M100,0 L100,400" />
                    <path class="secondary-road" d="M150,0 L150,400" />
                    <path class="secondary-road" d="M250,0 L250,400" />
                    <path class="secondary-road" d="M300,0 L300,400" />
                    <path class="secondary-road" d="M350,0 L350,400" />
                    
                    <path class="secondary-road" d="M0,50 L400,50" />
                    <path class="secondary-road" d="M0,100 L400,100" />
                    <path class="secondary-road" d="M0,150 L400,150" />
                    <path class="secondary-road" d="M0,250 L400,250" />
                    <path class="secondary-road" d="M0,300 L400,300" />
                    <path class="secondary-road" d="M0,350 L400,350" />
                    
                    <!-- Диагональные дороги для лучшей связности -->
                    <path class="secondary-road" d="M0,0 L400,400" />
                    <path class="secondary-road" d="M400,0 L0,400" />
                    <path class="secondary-road" d="M0,100 L300,400" />
                    <path class="secondary-road" d="M100,0 L400,300" />
                    
                    <!-- Жилые районы -->
                    <!-- Квартал 1 (северо-запад) -->
                    <rect class="residential-building" x="10" y="10" width="25" height="15" transform="rotate(2,22.5,17.5)" />
                    <rect class="residential-building" x="40" y="10" width="20" height="12" transform="rotate(-1,50,16)" />
                    <rect class="residential-building" x="65" y="10" width="18" height="14" transform="rotate(3,74,17)" />
                    <rect class="residential-building" x="88" y="10" width="22" height="16" transform="rotate(-2,99,18)" />
                    
                    <rect class="residential-building" x="10" y="30" width="24" height="14" transform="rotate(1,22,37)" />
                    <rect class="residential-building" x="39" y="28" width="19" height="13" transform="rotate(-3,48.5,34.5)" />
                    <rect class="residential-building" x="63" y="30" width="21" height="15" transform="rotate(2,73.5,37.5)" />
                    <rect class="residential-building" x="89" y="32" width="17" height="12" transform="rotate(-1,97.5,38)" />
                    
                    <rect class="residential-building" x="10" y="50" width="26" height="16" transform="rotate(-2,23,58)" />
                    <rect class="residential-building" x="41" y="48" width="18" height="14" transform="rotate(1,50,55)" />
                    <rect class="residential-building" x="64" y="50" width="22" height="15" transform="rotate(-3,75,57.5)" />
                    <rect class="residential-building" x="91" y="52" width="19" height="13" transform="rotate(2,100.5,58.5)" />
                    
                    <!-- Квартал 2 (северо-восток) -->
                    <rect class="residential-building" x="210" y="10" width="23" height="14" transform="rotate(-1,221.5,17)" />
                    <rect class="residential-building" x="238" y="10" width="20" height="16" transform="rotate(2,248,18)" />
                    <rect class="residential-building" x="263" y="10" width="25" height="15" transform="rotate(-3,275.5,17.5)" />
                    <rect class="residential-building" x="293" y="10" width="22" height="13" transform="rotate(1,304,16.5)" />
                    
                    <rect class="residential-building" x="210" y="32" width="21" height="15" transform="rotate(3,220.5,39.5)" />
                    <rect class="residential-building" x="236" y="30" width="24" height="14" transform="rotate(-2,248,37)" />
                    <rect class="residential-building" x="265" y="32" width="19" height="12" transform="rotate(1,274.5,38)" />
                    <rect class="residential-building" x="289" y="30" width="26" height="16" transform="rotate(-3,302,38)" />
                    
                    <rect class="residential-building" x="210" y="52" width="25" height="15" transform="rotate(-2,222.5,59.5)" />
                    <rect class="residential-building" x="240" y="50" width="20" height="14" transform="rotate(1,250,57)" />
                    <rect class="residential-building" x="265" y="52" width="23" height="16" transform="rotate(3,276.5,60)" />
                    <rect class="residential-building" x="293" y="50" width="21" height="13" transform="rotate(-1,303.5,56.5)" />
                    
                    <!-- Квартал 3 (юго-запад) -->
                    <rect class="residential-building" x="10" y="210" width="22" height="14" transform="rotate(1,21,217)" />
                    <rect class="residential-building" x="37" y="210" width="19" height="13" transform="rotate(-3,46.5,216.5)" />
                    <rect class="residential-building" x="61" y="210" width="24" height="15" transform="rotate(2,73,217.5)" />
                    <rect class="residential-building" x="90" y="210" width="20" height="12" transform="rotate(-1,100,216)" />
                    
                    <rect class="residential-building" x="10" y="230" width="25" height="16" transform="rotate(-2,22.5,238)" />
                    <rect class="residential-building" x="40" y="230" width="21" height="14" transform="rotate(1,50.5,237)" />
                    <rect class="residential-building" x="66" y="230" width="18" height="13" transform="rotate(3,75,236.5)" />
                    <rect class="residential-building" x="89" y="230" width="23" height="15" transform="rotate(-2,100.5,237.5)" />
                    
                    <rect class="residential-building" x="10" y="250" width="20" height="12" transform="rotate(1,20,256)" />
                    <rect class="residential-building" x="35" y="250" width="24" height="16" transform="rotate(-3,47,258)" />
                    <rect class="residential-building" x="64" y="250" width="21" height="14" transform="rotate(2,74.5,257)" />
                    <rect class="residential-building" x="90" y="250" width="19" height="13" transform="rotate(-1,99.5,256.5)" />
                    
                    <!-- Квартал 4 (юго-восток) -->
                    <rect class="residential-building" x="210" y="210" width="23" height="15" transform="rotate(-1,221.5,217.5)" />
                    <rect class="residential-building" x="238" y="210" width="20" height="13" transform="rotate(2,248,216.5)" />
                    <rect class="residential-building" x="263" y="210" width="25" height="16" transform="rotate(-3,275.5,218)" />
                    <rect class="residential-building" x="293" y="210" width="22" height="14" transform="rotate(1,304,217)" />
                    
                    <rect class="residential-building" x="210" y="235" width="21" height="14" transform="rotate(3,220.5,242)" />
                    <rect class="residential-building" x="236" y="235" width="24" height="15" transform="rotate(-2,248,242.5)" />
                    <rect class="residential-building" x="265" y="235" width="19" height="12" transform="rotate(1,274.5,241)" />
                    <rect class="residential-building" x="289" y="235" width="26" height="16" transform="rotate(-3,302,243)" />
                    
                    <rect class="residential-building" x="210" y="260" width="25" height="15" transform="rotate(-2,222.5,267.5)" />
                    <rect class="residential-building" x="240" y="260" width="20" height="14" transform="rotate(1,250,267)" />
                    <rect class="residential-building" x="265" y="260" width="23" height="16" transform="rotate(3,276.5,268)" />
                    <rect class="residential-building" x="293" y="260" width="21" height="13" transform="rotate(-1,303.5,266.5)" />
                    
                    <!-- Центральный коммерческий район -->
                    <!-- Левый берег реки -->
                    <rect class="commercial-building" x="120" y="50" width="35" height="25" transform="rotate(1,137.5,62.5)" />
                    <rect class="commercial-building" x="160" y="50" width="30" height="22" transform="rotate(-2,175,61)" />
                    <rect class="large-building" x="120" y="80" width="40" height="30" transform="rotate(-1,140,95)" />
                    <rect class="commercial-building" x="165" y="80" width="32" height="24" transform="rotate(2,181,92)" />
                    
                    <!-- Правый берег реки -->
                    <rect class="commercial-building" x="240" y="50" width="33" height="24" transform="rotate(-1,256.5,62)" />
                    <rect class="large-building" x="278" y="50" width="38" height="28" transform="rotate(2,297,64)" />
                    <rect class="commercial-building" x="240" y="85" width="35" height="26" transform="rotate(1,257.5,98)" />
                    <rect class="commercial-building" x="280" y="85" width="31" height="23" transform="rotate(-2,295.5,96.5)" />
                    
                    <!-- Центральный район между мостами -->
                    <rect class="large-building" x="170" y="130" width="45" height="35" transform="rotate(1,192.5,147.5)" />
                    <rect class="commercial-building" x="220" y="130" width="40" height="30" transform="rotate(-1,240,145)" />
                    <rect class="large-building" x="170" y="170" width="42" height="32" transform="rotate(-2,191,186)" />
                    <rect class="commercial-building" x="217" y="170" width="38" height="28" transform="rotate(1,236,184)" />
                    
                    <!-- Южный коммерческий район -->
                    <rect class="commercial-building" x="120" y="250" width="34" height="26" transform="rotate(2,137,263)" />
                    <rect class="large-building" x="159" y="250" width="41" height="31" transform="rotate(-1,179.5,265.5)" />
                    <rect class="commercial-building" x="205" y="250" width="36" height="27" transform="rotate(1,223,263.5)" />
                    <rect class="large-building" x="246" y="250" width="39" height="29" transform="rotate(-2,265.5,264.5)" />
                    <rect class="commercial-building" x="290" y="250" width="33" height="25" transform="rotate(1,306.5,262.5)" />
                    
                    <!-- Промышленная зона (север) -->
                    <rect class="industrial-building" x="20" y="120" width="50" height="40" transform="rotate(-1,45,140)" />
                    <rect class="industrial-building" x="75" y="120" width="45" height="35" transform="rotate(2,97.5,137.5)" />
                    
                    <!-- Промышленная зона (юг) -->
                    <rect class="industrial-building" x="320" y="120" width="48" height="36" transform="rotate(1,344,138)" />
                    <rect class="industrial-building" x="320" y="165" width="52" height="38" transform="rotate(-2,346,184)" />
                    
                    <!-- Крупные общественные здания -->
                    <rect class="large-building" x="50" y="280" width="55" height="40" transform="rotate(1,77.5,300)" />
                    <rect class="large-building" x="290" y="280" width="60" height="42" transform="rotate(-1,320,301)" />
                    <rect class="large-building" x="160" y="290" width="65" height="45" transform="rotate(2,192.5,312.5)" />
                    
                    <!-- Мелкие здания для заполнения пространства -->
                    <!-- Северный район -->
                    <rect class="residential-building" x="130" y="10" width="18" height="12" transform="rotate(1,139,16)" />
                    <rect class="residential-building" x="150" y="10" width="16" height="11" transform="rotate(-2,158,15.5)" />
                    <rect class="residential-building" x="170" y="10" width="19" height="13" transform="rotate(3,179.5,16.5)" />
                    
                    <!-- Южный район -->
                    <rect class="residential-building" x="130" y="370" width="20" height="14" transform="rotate(-1,140,377)" />
                    <rect class="residential-building" x="155" y="370" width="17" height="12" transform="rotate(2,163.5,376)" />
                    <rect class="residential-building" x="175" y="370" width="19" height="13" transform="rotate(-3,184.5,376.5)" />
                    <rect class="residential-building" x="200" y="370" width="18" height="12" transform="rotate(1,209,376)" />
                    
                    <!-- Западный район -->
                    <rect class="residential-building" x="10" y="130" width="16" height="11" transform="rotate(2,18,135.5)" />
                    <rect class="residential-building" x="10" y="150" width="18" height="12" transform="rotate(-1,19,156)" />
                    <rect class="residential-building" x="10" y="170" width="15" height="10" transform="rotate(3,17.5,175)" />
                    
                    <!-- Восточный район -->
                    <rect class="residential-building" x="370" y="130" width="17" height="12" transform="rotate(-2,378.5,136)" />
                    <rect class="residential-building" x="370" y="150" width="19" height="13" transform="rotate(1,379.5,156.5)" />
                    <rect class="residential-building" x="370" y="170" width="16" height="11" transform="rotate(-3,378,175.5)" />
                </svg>

                <!-- Синие точки мест -->
                <div class="map-point point-1"></div>
                <div class="map-point point-2"></div>
                <div class="map-point point-3"></div>
                <div class="map-point point-4"></div>
                <div class="map-point point-5"></div>
                <div class="map-point point-6"></div>

                <!-- Карточки мест -->
                <div class="place-card card-1">
                    <h3>🍝 Итальянский ресторан</h3>
                    <p>Паста и вино</p>
                    <p class="rating">⭐ 4.7</p>
                </div>
                
                <div class="place-card card-2">
                    <h3>☕ Кофейня "Уют"</h3>
                    <p>Свежая выпечка</p>
                    <p class="rating">⭐ 4.8</p>
                </div>
                
                <div class="place-card card-3">
                    <h3>🎨 Галерея искусств</h3>
                    <p>Современное искусство</p>
                    <p class="rating">⭐ 4.6</p>
                </div>
            </div>
        </div>

        <button class="start-button" onclick="startApp()">
            Начать
        </button>
    </div>

    <script>
        function initTelegram() {
            Telegram.WebApp.ready();
            Telegram.WebApp.expand();
        }

        function startApp() {
            Telegram.WebApp.showPopup({
                title: 'Добро пожаловать!',
                message: 'Ищем интересные места поблизости...',
                buttons: [{ type: 'ok' }]
            });
            
            setTimeout(() => {
                showMap();
            }, 2000);
        }

        function showMap() {
            Telegram.WebApp.showAlert('Интерактивная карта скоро будет доступна!');
        }

        // Анимация карточек мест
        function animatePlaces() {
            const cards = document.querySelectorAll('.place-card');
            let currentCard = 0;
            
            function showNextCard() {
                cards.forEach(card => {
                    card.style.animation = 'hideCard 0.5s forwards';
                });
                
                if (cards[currentCard]) {
                    cards[currentCard].style.animation = 'showCard 0.8s forwards';
                }
                
                currentCard = (currentCard + 1) % cards.length;
            }
            
            showNextCard();
            setInterval(showNextCard, 3000);
        }

        window.onload = function() {
            initTelegram();
            animatePlaces();
        };
    </script>
</body>
</html>